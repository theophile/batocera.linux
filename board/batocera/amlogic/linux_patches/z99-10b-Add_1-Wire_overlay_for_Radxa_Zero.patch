From 1e2cebf86adfcd5247d5e73e1014b8da6d0f9167 Mon Sep 17 00:00:00 2001
From: Yuntian Zhang <yt@radxa.com>
Date: Fri, 11 Mar 2022 11:04:57 +0800
Subject: [PATCH] arm64: dts: meson: Add 1-Wire overlay for Radxa Zero

Signed-off-by: Yuntian Zhang <yt@radxa.com>
---
 arch/arm64/boot/dts/amlogic/overlay/Makefile  |  1 +
 .../overlay/meson-g12a-w1-gpioao-3.dts        | 20 +++++++++++++++++++
 2 files changed, 21 insertions(+)
 create mode 100644 arch/arm64/boot/dts/amlogic/overlay/meson-g12a-w1-gpioao-3.dts

diff --git a/arch/arm64/boot/dts/amlogic/overlay/meson-g12a-w1-gpioao-3.dts b/arch/arm64/boot/dts/amlogic/overlay/meson-g12a-w1-gpioao-3.dts
new file mode 100644
index 0000000000000..75df4259daab2
--- /dev/null
+++ b/arch/arm64/boot/dts/amlogic/overlay/meson-g12a-w1-gpioao-3.dts
@@ -0,0 +1,20 @@
+/dts-v1/;
+/plugin/;
+
+#include <dt-bindings/gpio/gpio.h>
+#include <dt-bindings/gpio/meson-g12a-gpio.h>
+
+/ {
+	compatible = "radxa,zero", "amlogic,g12a";
+
+	fragment@0 {
+		target-path = "/";
+		__overlay__ {
+			w1: onewire {
+				compatible = "w1-gpio";
+				gpios = <&gpio_ao GPIOAO_3 GPIO_ACTIVE_HIGH>;
+				status = "okay";
+			};
+		};
+	};
+};
\ No newline at end of file
